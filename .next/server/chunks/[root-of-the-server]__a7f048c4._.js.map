{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///D:/university/project/AstroZangli-AI/AstroZangli-AI/frontend/src/app/api/chat/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const { message } = await req.json();\r\n\r\n        // 将请求转发到Python后端\r\n        const backendResponse = await fetch('http://127.0.0.1:5000/api/chat', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({ message }),\r\n        });\r\n\r\n        const data = await backendResponse.json();\r\n\r\n        if (!backendResponse.ok || !data.success) {\r\n            const errorMessage = data.error?.message || `Backend error! status: ${backendResponse.status}`;\r\n            console.error('Backend Error:', errorMessage);\r\n            return NextResponse.json({ success: false, error: { message: errorMessage } }, { status: backendResponse.status });\r\n        }\r\n\r\n        return NextResponse.json({ success: true, data: data.data });\r\n\r\n    } catch (error: any) {\r\n        console.error('Error forwarding to backend:', error);\r\n        return NextResponse.json({ success: false, error: { message: error.message || 'Sorry, something went wrong.' } }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAElC,iBAAiB;QACjB,MAAM,kBAAkB,MAAM,MAAM,kCAAkC;YAClE,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAQ;QACnC;QAEA,MAAM,OAAO,MAAM,gBAAgB,IAAI;QAEvC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,KAAK,OAAO,EAAE;YACtC,MAAM,eAAe,KAAK,KAAK,EAAE,WAAW,CAAC,uBAAuB,EAAE,gBAAgB,MAAM,EAAE;YAC9F,QAAQ,KAAK,CAAC,kBAAkB;YAChC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAO,OAAO;oBAAE,SAAS;gBAAa;YAAE,GAAG;gBAAE,QAAQ,gBAAgB,MAAM;YAAC;QACpH;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM,KAAK,IAAI;QAAC;IAE9D,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,OAAO;gBAAE,SAAS,MAAM,OAAO,IAAI;YAA+B;QAAE,GAAG;YAAE,QAAQ;QAAI;IACpI;AACJ","debugId":null}}]
}